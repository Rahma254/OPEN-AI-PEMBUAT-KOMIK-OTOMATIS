<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nabila Ahmad - Grand Multimedia Studio</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

    <style>
        /* --- CSS Reset & Global Styling --- */
        :root {
            --bg-deep-space: #111317;
            --surface-primary: #1a1d23;
            --surface-secondary: #252932;
            --border-color: #333842;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a4b8;
            --accent-primary: #8A2BE2;
            --accent-secondary: #4A90E2;
            --accent-tertiary: #34D399; /* Hijau Mint */
            --font-ui: 'Poppins', sans-serif;
            --font-literary: 'Cormorant Garamond', serif;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-ui);
            background-color: var(--bg-deep-space);
            color: var(--text-primary);
            line-height: 1.7;
            overflow-x: hidden;
        }

        /* --- Layout Utama & Komponen UI --- */
        .studio-container { max-width: 1600px; margin: 0 auto; padding: 2rem; }
        .studio-header { text-align: center; margin-bottom: 3rem; padding-bottom: 2rem; border-bottom: 1px solid var(--border-color); }
        .studio-header h1 { font-size: 3rem; font-weight: 700; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary), var(--accent-tertiary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 0.5rem; }
        .studio-header p { color: var(--text-secondary); font-size: 1.2rem; }
        .card { background-color: var(--surface-primary); border-radius: 16px; padding: 2rem; border: 1px solid var(--border-color); transition: all 0.3s ease; }
        .card:hover { border-color: var(--accent-secondary); }

        /* --- Konfigurasi API --- */
        .api-config-card { margin-bottom: 2rem; }
        .api-config-card h2 { font-size: 1.5rem; margin-bottom: 1rem; color: var(--text-primary); }
        .api-config-card p { color: #ffd700; background: rgba(255, 215, 0, 0.05); padding: 0.5rem 1rem; border-radius: 8px; border-left: 3px solid #ffd700; }
        input[type="password"] { width: 100%; padding: 1rem; margin-top: 1rem; font-size: 1rem; background-color: var(--surface-secondary); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-family: var(--font-ui); }

        /* --- Sistem Tab --- */
        .studio-tabs { display: flex; flex-wrap: wrap; border-bottom: 1px solid var(--border-color); margin-bottom: 2rem; }
        .tab-button { padding: 1rem 1.5rem; cursor: pointer; border: none; background: none; color: var(--text-secondary); font-size: 1.1rem; font-weight: 600; position: relative; transition: color 0.3s ease; }
        .tab-button:hover { color: var(--text-primary); }
        .tab-button.active { color: var(--text-primary); }
        .tab-button.active::after { content: ''; position: absolute; bottom: -1px; left: 0; width: 100%; height: 3px; background: linear-gradient(90deg, var(--accent-secondary), var(--accent-tertiary)); border-radius: 3px; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- Panel Kontrol --- */
        .control-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .control-grid .card h3 { font-size: 1.3rem; margin-bottom: 1.5rem; }
        label { display: block; font-weight: 600; color: var(--text-secondary); margin-bottom: 0.5rem; }
        input[type="text"], textarea, select { width: 100%; padding: 0.8rem 1rem; background-color: var(--surface-secondary); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-family: var(--font-ui); font-size: 1rem; margin-bottom: 1.5rem; }
        textarea { resize: vertical; min-height: 120px; }
        .main-action-button { width: 100%; padding: 1.2rem; font-size: 1.2rem; font-weight: 700; color: white; background: linear-gradient(90deg, var(--accent-secondary), var(--accent-tertiary)); border: none; border-radius: 8px; cursor: pointer; margin-top: 1rem; transition: all 0.3s ease; display: flex; justify-content: center; align-items: center; gap: 1rem; }
        .main-action-button:hover:not(:disabled) { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .main-action-button:disabled { opacity: 0.5; cursor: not-allowed; }

        /* --- Area Hasil & Output --- */
        .output-container { margin-top: 3rem; }
        .output-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
        .output-header h2 { font-size: 2rem; }
        .copy-button { padding: 0.6rem 1.2rem; background: var(--surface-secondary); color: var(--text-secondary); border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; transition: all 0.3s ease; }
        .copy-button:hover { background-color: var(--accent-tertiary); color: white; border-color: var(--accent-tertiary); }
        .output-box { background: var(--surface-primary); border-radius: 16px; padding: 2rem 3rem; border: 1px solid var(--border-color); min-height: 200px; font-family: var(--font-literary); font-size: 1.2rem; line-height: 1.8; white-space: pre-wrap; color: var(--text-primary); }
        .placeholder-text { color: var(--text-secondary); font-style: italic; font-family: var(--font-ui); font-size: 1.1rem; }
        #audioPlayer { width: 100%; margin-top: 1rem; }
        #audioPlayer::-webkit-media-controls-panel { background-color: var(--surface-secondary); }
        #audioPlayer::-webkit-media-controls-play-button,
        #audioPlayer::-webkit-media-controls-timeline,
        #audioPlayer::-webkit-media-controls-current-time-display,
        #audioPlayer::-webkit-media-controls-time-remaining-display,
        #audioPlayer::-webkit-media-controls-mute-button,
        #audioPlayer::-webkit-media-controls-volume-slider {
             filter: invert(1) grayscale(1) brightness(2);
        }

        /* --- Spinner --- */
        .spinner { width: 24px; height: 24px; border: 3px solid rgba(255, 255, 255, 0.3); border-top-color: #fff; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div class="studio-container">
        <header class="studio-header">
            <h1>Grand Multimedia Studio</h1>
            <p>Ditenagai oleh Nabila Ahmad & OpenAI</p>
        </header>

        <section class="card api-config-card">
            <h2>üîë Konfigurasi API</h2>
            <p>API Key Anda hanya digunakan di browser ini dan tidak disimpan di mana pun. Wajib diisi.</p>
            <input type="password" id="apiKey" placeholder="Masukkan OpenAI API Key Anda (sk-...)">
        </section>

        <!-- Navigasi Tab -->
        <nav class="studio-tabs">
            <button class="tab-button active" data-tab="audioStudio">Audio Studio</button>
            <button class="tab-button" data-tab="comicStudio">Comic Prompt Studio</button>
        </nav>

        <!-- Konten Audio Studio -->
        <div id="audioStudio" class="tab-content active">
            <div class="control-grid">
                <div class="card">
                    <h3>üéôÔ∏è Pengaturan Suara</h3>
                    <label for="ttsText">Teks untuk Disuarakan</label>
                    <textarea id="ttsText" rows="8" placeholder="Tulis atau tempel teks yang ingin Anda ubah menjadi suara di sini..."></textarea>
                </div>
                <div class="card">
                    <h3>üîä Generator Audio</h3>
                    <label for="ttsVoice">Pilih Suara</label>
                    <select id="ttsVoice">
                        <option value="alloy">Alloy (Pria, Netral)</option>
                        <option value="echo">Echo (Pria, Dramatis)</option>
                        <option value="fable">Fable (Pria, Narator)</option>
                        <option value="onyx">Onyx (Pria, Dalam)</option>
                        <option value="nova" selected>Nova (Wanita, Ceria)</option>
                        <option value="shimmer">Shimmer (Wanita, Profesional)</option>
                    </select>
                    <p style="color:var(--text-secondary); margin-top:2rem; margin-bottom:2rem;">Tekan tombol di bawah untuk mengubah teks menjadi file audio yang bisa Anda dengarkan dan unduh.</p>
                    <button id="generateAudioBtn" class="main-action-button">
                        <span class="btn-text">Buat Audio</span>
                        <div class="spinner" style="display: none;"></div>
                    </button>
                </div>
            </div>

            <div class="output-container">
                <div class="output-header">
                    <h2>Hasil Audio</h2>
                </div>
                <div id="audioOutput" class="output-box">
                    <p class="placeholder-text" id="audioPlaceholder">Pemutar audio akan muncul di sini setelah audio berhasil dibuat...</p>
                    <audio id="audioPlayer" controls style="display:none;"></audio>
                </div>
            </div>
        </div>

        <!-- Konten Comic Prompt Studio -->
        <div id="comicStudio" class="tab-content">
            <div class="control-grid">
                <div class="card">
                    <h3>üë§ Karakter & Aksi</h3>
                    <label for="comicChar">Deskripsi Karakter Utama</label>
                    <input type="text" id="comicChar" placeholder="Contoh: Seorang detektif wanita tangguh dengan jas hujan, rambut pendek">
                    <label for="comicAction">Aksi / Adegan</label>
                    <textarea id="comicAction" rows="4" placeholder="Contoh: sedang memeriksa petunjuk di gang gelap saat malam hari, memegang senter"></textarea>
                    <label for="comicEmotion">Ekspresi / Emosi</label>
                    <input type="text" id="comicEmotion" placeholder="Contoh: Wajah tegang dan fokus, mata menyipit">
                </div>
                <div class="card">
                    <h3>üé® Gaya & Komposisi</h3>
                     <label for="comicStyle">Gaya Visual</label>
                    <select id="comicStyle">
                        <option value="90s anime style, cel shading, vibrant colors">Anime 90an</option>
                        <option value="Modern manga style, black and white, sharp lines, detailed screen tones">Manga Modern (B&W)</option>
                        <option value="American comic book style, ink outlines, bold colors, dynamic hatching">Komik Amerika</option>
                        <option value="Cinematic, hyperrealistic, detailed texture, dramatic lighting, 8k">Hiper-realistis</option>
                        <option value="Chibi style, cute, oversized head, simple background">Gaya Chibi</option>
                        <option value="Pixar animation style, soft lighting, expressive characters">Gaya Animasi Pixar</option>
                    </select>
                    <label for="comicAngle">Sudut Kamera</label>
                    <input type="text" id="comicAngle" placeholder="Contoh: low-angle shot, close-up, wide shot">
                    <label for="comicLighting">Pencahayaan</label>
                    <input type="text" id="comicLighting" placeholder="Contoh: dramatic Rembrandt lighting, neon city lights, soft morning light">
                </div>
            </div>
            <button id="generateComicPromptBtn" class="main-action-button" style="margin-top: 2rem; max-width: 500px; margin-inline: auto;">
                <span class="btn-text">Buat Prompt Komik</span>
                 <div class="spinner" style="display: none;"></div>
            </button>

            <div class="output-container">
                <div class="output-header">
                    <h2>Hasil Prompt (Siap untuk DALL-E 3)</h2>
                    <button class="copy-button" onclick="copyToClipboard('comicPromptOutput')">Salin Prompt</button>
                </div>
                <div id="comicPromptOutput" class="output-box" style="font-family: var(--font-ui); font-size: 1rem; line-height: 1.7;">
                    <p class="placeholder-text" id="comicPlaceholder">Prompt yang detail dan siap pakai akan muncul di sini...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // === ELEMEN DOM ===
            const apiKeyInput = document.getElementById('apiKey');
            const tabs = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            // Audio Studio Elements
            const ttsTextInput = document.getElementById('ttsText');
            const ttsVoiceSelect = document.getElementById('ttsVoice');
            const generateAudioBtn = document.getElementById('generateAudioBtn');
            const audioPlaceholder = document.getElementById('audioPlaceholder');
            const audioPlayer = document.getElementById('audioPlayer');

            // Comic Prompt Studio Elements
            const comicCharInput = document.getElementById('comicChar');
            const comicActionTextarea = document.getElementById('comicAction');
            const comicEmotionInput = document.getElementById('comicEmotion');
            const comicStyleSelect = document.getElementById('comicStyle');
            const comicAngleInput = document.getElementById('comicAngle');
            const comicLightingInput = document.getElementById('comicLighting');
            const generateComicPromptBtn = document.getElementById('generateComicPromptBtn');
            const comicPromptOutputDiv = document.getElementById('comicPromptOutput');
            const comicPlaceholder = document.getElementById('comicPlaceholder');

            // === FUNGSI UTAMA ===

            // Sistem Tab
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(item => item.classList.remove('active'));
                    tab.classList.add('active');
                    const target = document.getElementById(tab.dataset.tab);
                    tabContents.forEach(content => content.classList.remove('active'));
                    target.classList.add('active');
                });
            });

            // Handler untuk Audio Studio (Text-to-Speech)
            generateAudioBtn.addEventListener('click', async () => {
                const text = ttsTextInput.value.trim();
                const voice = ttsVoiceSelect.value;
                const apiKey = apiKeyInput.value.trim();

                if (!text) {
                    alert('Harap masukkan teks yang ingin disuarakan!');
                    return;
                }
                if (!apiKey) {
                    alert('Harap masukkan OpenAI API Key Anda!');
                    return;
                }
                
                setLoading(generateAudioBtn, true);

                try {
                    const response = await fetch('https://api.openai.com/v1/audio/speech', {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${apiKey}`,
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            model: 'tts-1',
                            input: text,
                            voice: voice,
                        }),
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(errorData.error.message || 'Gagal membuat audio.');
                    }
                    
                    const audioBlob = await response.blob();
                    const audioUrl = URL.createObjectURL(audioBlob);
                    
                    audioPlayer.src = audioUrl;
                    audioPlayer.style.display = 'block';
                    audioPlaceholder.style.display = 'none';

                } catch (error) {
                    alert(`Terjadi kesalahan: ${error.message}`);
                } finally {
                    setLoading(generateAudioBtn, false);
                }
            });

            // Handler untuk Comic Prompt Studio
            generateComicPromptBtn.addEventListener('click', () => {
                const char = comicCharInput.value.trim();
                const action = comicActionTextarea.value.trim();
                const emotion = comicEmotionInput.value.trim();
                const style = comicStyleSelect.value;
                const angle = comicAngleInput.value.trim();
                const lighting = comicLightingInput.value.trim();

                if (!char || !action || !style) {
                    alert('Harap isi Deskripsi Karakter, Aksi, dan Gaya Visual!');
                    return;
                }
                
                // Merakit prompt dengan cerdas
                let finalPrompt = `A single comic book panel, ${style}. `;
                finalPrompt += `Featuring: ${char}, ${action}. `;
                if (emotion) {
                    finalPrompt += `The character's expression is ${emotion}. `;
                }
                if (angle) {
                    finalPrompt += `Shot: ${angle}. `;
                }
                if (lighting) {
                    finalPrompt += `Lighting: ${lighting}. `;
                }
                finalPrompt += `Extremely high quality, detailed, professional comic art.`;
                
                comicPromptOutputDiv.textContent = finalPrompt;
                comicPlaceholder.style.display = 'none';
            });

            // === FUNGSI BANTU ===
            function setLoading(button, isLoading) {
                const spinner = button.querySelector('.spinner');
                const btnText = button.querySelector('.btn-text');
                if (isLoading) {
                    button.disabled = true;
                    spinner.style.display = 'block';
                    btnText.style.opacity = '0.5';
                } else {
                    button.disabled = false;
                    spinner.style.display = 'none';
                    btnText.style.opacity = '1';
                }
            }
        });

        // Fungsi Copy to Clipboard
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const textToCopy = element.innerText || element.textContent;
            
            // Jangan salin placeholder
            if(textToCopy.includes("akan muncul di sini...")){
                alert("Tidak ada teks untuk disalin!");
                return;
            }

            navigator.clipboard.writeText(textToCopy).then(() => {
                alert('Prompt berhasil disalin!');
            }, (err) => {
                alert('Gagal menyalin.');
            });
        }
    </script>

</body>
</html>
